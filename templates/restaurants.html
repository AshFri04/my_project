{% extends 'base.html' %}

{% block content %}

<div class="container">

  <!--////// ROW //////-->

  <div class="row">
    <div class="col">
      <!-- Search bar -->
      <form action="/search-results" required>
        <input type="checkbox" name="restaurants" value="True">Restaurants
        <input type="checkbox" name="bakeries" value="True">Bakeries
        <input type="checkbox" name="bars" value="True">Bars
        <input type="checkbox" name="coffee-shops" value="True">Coffee Shops<br>
        <input type="checkbox" name="open" value="True">Open Now?<br>
        
        <div>Search By Price:</div>
        <select name="price">
          <option value="$">Inexpensive</option>
          <option value="$$">Moderately Inexpensive</option>
          <option value="$$$">Expensive</option>
          <option value="$$$$">High End</option>
        </select><br>
    </div>


    <div class="col">
      Gluten-Free in your neighborhood?
      Search By:
        <select name="neighborhoods">
         <!-- Neighborhoods are displayed in alphabetical order for user -->
          <option value="False">Choose a Location</option>
          <option value="25">Bayview</option>
          <option value="17">Bernal Heights</option>
          <option value="15">Castro</option>
          <option value="11">China Town</option>
          <option value="5">Cow Hollow</option>
          <option value="10">Financial District</option>
          <option value="3">Fisherman's Wharf</option>
          <option value="19">Haight Ashbury</option>
          <option value="23">Lakeshore</option>
          <option value="4">Marina</option>
          <option value="13">Mission</option>
          <option value="9">Nob Hill</option>
          <option value="16">Noe Valley</option>
          <option value="1">North Beach</option>
          <option value="24">Ocean View</option>
          <option value="8">Pacific Heights</option>
          <option value="22">Parkside</option>
          <option value="14">Potrero Hill</option>
          <option value="6">Presidio Heights</option>
          <option value="20">Richmond District</option>
          <option value="2">Russian Hill</option>
          <option value="7">Seacliff</option>
          <option value="12">South of Market</option>
          <option value="21">Sunset District</option>
          <option value="18">Twin Peaks</option>
        </select><br>
          <input type="submit" value="Find Me Glutie">
        
    </div>
  </div>
      

<!--////// ROW //////-->


   <div class="row">
    <!-- restaurants -->
     <div id="scroll" class="col">
        <h2>Restaurants</h2> <br>
          {% for restaurant in restaurants %}
          <img class="restaurant_image" src="{{ restaurant.picture }}" alt="This is a user photo.">
            <form class="rest-info" action="/rest_info" method="POST" id="{{ restaurant.restaurant_id }}">
              <input id = "rest-id-{{ restaurant.restaurant_id }}" type="hidden" name="rest_id" value="{{ restaurant.restaurant_id }}">
              <input id = "rest-name-{{ restaurant.restaurant_id }}" type="hidden" name="rest_name" value="{{ restaurant.name }}">
              <input type="submit" value="{{ restaurant.name }}"><div>{{ restaurant.price }}</div>
            </form> 
            <div>Average Yelp Rating: {{ restaurant.avg_rating }}/5 Stars</div>
            <div>{{ restaurant.types_of_food }}</div>
            <div> 
              <input type="hidden" class="coordinates" value= "{{ restaurant.latitude }} {{ restaurant.longitude }}">
              <input type="hidden" class="rest_name" value="{{ restaurant.name }}">
              <input type="hidden" class="rest_type" value="{{ restaurant.types_of_food }}">
            </div>
      

      <!-- Add Favorites -->
       
            {% if "user_id" in session %}
              <form class="favorite_form_rest" action="/favorite" method="POST" id="{{ restaurant.restaurant_id }}">
                <div class="form-group">
                  <input id = "restaurant-id-{{ restaurant.restaurant_id }}" type="hidden" name="restaurant_id" value="{{ restaurant.restaurant_id }}">
                  <input id = "restaurant-name-{{ restaurant.restaurant_id }}" type="hidden" name="restaurant_name" value="{{ restaurant.name }}">
                  <input type="submit" value="Favorite">
                </div>
              </form> 
              {% else %}
                <h3>Create an Account to access other features</h3>
              {% endif %}
            {% endfor %}
      </div>
  
     <!-- map -->
      <div class="col">
        <div id="map"></div>
          <script 
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBi3TXl5rieFcFdscrRjL8d4L9H4IwfHEw">
          </script>
          <div> 
            <input type="hidden" class="hood_id" value= "{{ neighborhood.neighborhood_id }}">
            <input type="hidden" class="hood_lat" value= "{{ neighborhood.lat }}">
            <input type="hidden" class="hood_lng" value= "{{ neighborhood.lng }}">
          </div>
      </div>

    </div>
  </div>
</div>






{% endblock %}



