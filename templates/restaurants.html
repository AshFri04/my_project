{% extends 'base.html' %}

{% block content %}

<div class="container">

  <!--////// ROW //////-->

 <div class="row">
   
     
      <!-- Search bar -->
      <form action="/search-results" required>

        <div class="input-group mb-3">
          <div class="input-group-prepend">
           <div class="input-group-text">
             <input type="checkbox" name="restaurants" id="rest-checkbox"value="True" >
             <label class="form-check-label" for="rest-checkbox">Restaurants</label>
          </div>
        </div>
      </div>

        <div class="form-check form-check-inline">
          <input type="checkbox" name="bakeries" id="bake-checkbox"value="True">
          <label class="form-check-label" for="bake-checkbox">Bakeries</label>
        </div>

        <div class="form-check form-check-inline">
          <input type="checkbox" name="bars" id="bar-checkbox" value="True">
          <label class="form-check-label" for="bar-checkbox">Bars</label>
        </div>

        <div class="form-check form-check-inline">
          <input type="checkbox" name="coffee-shops" id="coffee-checkbox"value="True">
          <label class="form-check-label" for="coffee-checkbox">Coffee Shops</label>
        </div><br>

        <div class="form-check">
          <input type="checkbox" name="open" id="open-checkbox"value="True"><label class="form-check-label" for="open-checkbox">Open Now</label>
        </div><br>
        
      <div class="input-group mb-3">
       <div class="input-group-prepend">
        <label class="input-group-text" for="inputGroupSelect01">Search By: </label>
      </div>
        <select class="custom-select" id="inputGroupSelect01" name="price">
          <option value="False">Choose Your Price</option>
          <option value="$">Inexpensive</option>
          <option value="$$">Moderately Inexpensive</option>
          <option value="$$$">Expensive</option>
          <option value="$$$$">High End</option>
        </select><br>
    </div>
  </div>



 <!--    <div class="col"> -->
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text" for="inputGroupSelect01">Search By:</label>
        </div>
      
      
        <select name="neighborhoods" class="custom-select" id="inputGroupSelect01">
         <!-- Neighborhoods are displayed in alphabetical order for user -->
          <option value="False">Choose Your SF Neighborhood</option>
          <option value="25">Bayview</option>
          <option value="17">Bernal Heights</option>
          <option value="15">Castro</option>
          <option value="11">China Town</option>
          <option value="5">Cow Hollow</option>
          <option value="10">Financial District</option>
          <option value="3">Fisherman's Wharf</option>
          <option value="19">Haight Ashbury</option>
          <option value="23">Lakeshore</option>
          <option value="4">Marina</option>
          <option value="13">Mission</option>
          <option value="9">Nob Hill</option>
          <option value="16">Noe Valley</option>
          <option value="1">North Beach</option>
          <option value="24">Ocean View</option>
          <option value="8">Pacific Heights</option>
          <option value="22">Parkside</option>
          <option value="14">Potrero Hill</option>
          <option value="6">Presidio Heights</option>
          <option value="20">Richmond District</option>
          <option value="2">Russian Hill</option>
          <option value="7">Seacliff</option>
          <option value="12">South of Market</option>
          <option value="21">Sunset District</option>
          <option value="18">Twin Peaks</option>
        </select><br>
          <input type="submit" value="Find Me Glutie">
     
    </div>
  </div>

 
      

<!--////// ROW //////-->


<div class="row">
  <!-- restaurants -->
    <div id="scroll" class="col">
      

<!--////// ROW within Column //////-->

        <div class="row">
          
          {% for restaurant in restaurants %}
          <div class="row">
            <!-- had rest-info in this class above -->

            <!-- <div class="col" id="pic-in-column"> -->
             <img class="restaurant_image" src="{{ restaurant.picture }}" alt="This is a user photo.">
           <!--  </div> -->

          <div class="col" id="column-background">
             <!-- Add Favorites -->
       
            {% if "user_id" in session %}
              <form class="favorite_form_rest" action="/favorite" method="POST" id="{{ restaurant.restaurant_id }}">
                <!-- <div class="form-group"> -->
                  <input id = "restaurant-id-{{ restaurant.restaurant_id }}" type="hidden" name="restaurant_id" value="{{ restaurant.restaurant_id }}">
                  <input id = "restaurant-name-{{ restaurant.restaurant_id }}" type="hidden" name="restaurant_name" value="{{ restaurant.name }}">
                  <button type="submit" id="fav-button">
                  <i class="fas fa-heart"></i>
                  </button>
              </form>
              {% else %}
                <h3>Create an Account to access other features</h3>
              {% endif %}


            <form class="rest-info" action="/rest_info" method="POST" id="{{ restaurant.restaurant_id }}">
              <input id = "rest-id-{{ restaurant.restaurant_id }}" type="hidden" name="rest_id" value="{{ restaurant.restaurant_id }}">
              <input id = "rest-name-{{ restaurant.restaurant_id }}" type="hidden" name="rest_name" value="{{ restaurant.name }}">
              <input type="submit" id="rest-name-style" value="{{ restaurant.name }}">
            </form> <span id="price-icon">{{ restaurant.price }}</span>
            <div>{{ restaurant.types_of_food }}</div>

              <i id="yelp"class="fab fa-yelp"></i><span id="rating">Yelp Rating |  </span>
            {% for i in range(restaurant.avg_rating) %}
            <i id="star"class="fas fa-star"></i>
            {% endfor %}
            </div>

            <!-- for restaurant location on map -->
            <div> 
              <input type="hidden" class="coordinates" value= "{{ restaurant.latitude }} {{ restaurant.longitude }}">
              <input type="hidden" class="rest_name" value="{{ restaurant.name }}">
              <input type="hidden" class="rest_type" value="{{ restaurant.types_of_food }}">
            </div>
          </div>
            {% endfor %}
          
      
    </div>
  </div>
     <!-- map -->
      <div class="col">
        <div id="map"></div>
          <script 
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBi3TXl5rieFcFdscrRjL8d4L9H4IwfHEw">
          </script>
          <div> 
            <input type="hidden" class="hood_id" value= "{{ neighborhood.neighborhood_id }}">
            <input type="hidden" class="hood_lat" value= "{{ neighborhood.lat }}">
            <input type="hidden" class="hood_lng" value= "{{ neighborhood.lng }}">
          </div>
      </div>

    </div>
  </div>
</div>






{% endblock %}



